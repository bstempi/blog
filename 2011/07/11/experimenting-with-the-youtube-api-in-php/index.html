<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="bstempi" />
        <meta name="keywords" content="games,web development,Wildfire Games,WordPress,YouTube" />
        <meta name="description" content="As a video game website, Wildfire Games wants to be able to do some cool things with videos, images, music, and more. Games are all about media, and any good game website has to do a good job at showcasing their media. After all, what good is the website if ..." />

    <title>Experimenting with the YouTube API in PHP - BMS's Blog</title>

    <link rel="stylesheet" href="../../../../theme/css/bootstrap.min.css" type="text/css"/>
    <link href="../../../../theme/css/font-awesome.min.css" rel="stylesheet">
    
    <link href="../../../../theme/css/pygments/native.css" rel="stylesheet">
    
    <link href="../../../../theme/css/pelican-twitchy.min.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <!-- Feeds -->
        <link href="../../../../feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="BMS's Blog ATOM Feed"/>
        <link href="../../../../feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="BMS's Blog RSS Feed"/>
        <link href="../../../../static/custom.css" rel="stylesheet">
</head>
<body data-spy="scroll" data-target="#scrollspy">
    <div id="wrapper">
        <!-- Sidebar -->
        <div id="sidebar-wrapper-small">
            <ul id="accordion-small" class="sidebar-nav sidebar-nav-small">
                <li>
        <a href="../../../.." title="BMS's Blog" class="collapsed">
            <span class="glyphicon glyphicon-home"></span>
        </a>
    </li>
                <li class="nav-divider"></li>
                <li>
        <a href="../../../../archives.html" title="Recent Articles" class="collapsed">
            <span class="glyphicon glyphicon-th-list"></span>
        </a>
    </li>
                
                <li class="nav-divider"></li>
                <li id="share-small">
                    <a data-toggle="collapse" data-parent="#accordion-small" href="#collapse-share-small" title="Share" class="collapsed">
                        <i class="fa fa-share-alt padding-small"></i>
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-share-small" class="collapse ">
                    <li>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=../../../../2011/07/11/experimenting-with-the-youtube-api-in-php/" title="Share via Facebook" target="popup">
                            <i class="fa fa-facebook-square padding-small"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://plus.google.com/share?url=../../../../2011/07/11/experimenting-with-the-youtube-api-in-php/" title="Share via Google+" target="popup">
                            <i class="fa fa-google-plus padding-small"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com/share" class="twitter-share-button" data-count="vertical" title="Share via Twitter" target="popup">
                            <i class="fa fa-twitter-square padding-small"></i>
                        </a>
                    </li>
                </ul></li>
                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion-small" href="#collapse-social-small" title="Social" class="collapsed">
                        <i class="fa fa-users padding-small"></i>
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-social-small" class="collapse ">
                    <li>
                        <a href="https://www.facebook.com/brian.stempin" title="Facebook"><i class="fa fa-facebook-square fa-lg padding-small"></i></a>
                    </li>
                    <li>
                        <a href="https://github.com/bstempi" title="GitHub"><i class="fa fa-github-square fa-lg padding-small"></i></a>
                    </li>
                    <li>
                        <a href="https://www.linkedin.com/in/brianstempin" title="LinkedIn"><i class="fa fa-linkedin-square fa-lg padding-small"></i></a>
                    </li>
                    <li>
                        <a href="https://twitter.com/bstempi" title="Twitter"><i class="fa fa-twitter-square fa-lg padding-small"></i></a>
                    </li>
                </ul></li>
                <li class="nav-divider"></li>
                <li>
        <a href="#" title="Back to top" class="collapsed">
            <span class="fa fa-arrow-up"></span>
        </a>
    </li>
            </ul>
        </div>
        <div id="sidebar-wrapper">
            <ul id="accordion" class="sidebar-nav">
                <li class="sidebar-brand">
                    <a href="../../../../">
                    </a>
                </li>
                    <li>
                        <a href="../../../../archives.html">
                            <span class="glyphicon glyphicon-th-list padding-small"></span>
                            Recent Articles
                        </a>
                    </li>
                <li class="nav-divider"></li>
                <li id="share">
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-share" title="Share" class="collapsed">
                        <i class="fa fa-share-alt padding-small"></i>
                        Share
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-share" class="sidebar_submenu collapse ">
                    <li>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=../../../../2011/07/11/experimenting-with-the-youtube-api-in-php/" target="popup">
                            <i class="fa fa-facebook-square padding-small"></i>
                            Facebook
                        </a>
                    </li>
                    <li>
                        <a href="https://plus.google.com/share?url=../../../../2011/07/11/experimenting-with-the-youtube-api-in-php/" target="popup">
                            <i class="fa fa-google-plus padding-small"></i>
                            Google+
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com/share" class="twitter-share-button" data-count="vertical" target="popup">
                            <i class="fa fa-twitter-square padding-small"></i>
                            Twitter
                        </a>
                    </li>
                </ul></li>
                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-social">
                        <i class="fa fa-users padding-small"></i>
                        Contact
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-social" class="sidebar_submenu collapse ">
                    <li>
                        <a href="https://www.facebook.com/brian.stempin" title="Facebook">
                            <i class="fa fa-facebook-square fa-lg padding-small"></i>
                            Facebook
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/bstempi" title="GitHub">
                            <i class="fa fa-github-square fa-lg padding-small"></i>
                            GitHub
                        </a>
                    </li>
                    <li>
                        <a href="https://www.linkedin.com/in/brianstempin" title="LinkedIn">
                            <i class="fa fa-linkedin-square fa-lg padding-small"></i>
                            LinkedIn
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com/bstempi" title="Twitter">
                            <i class="fa fa-twitter-square fa-lg padding-small"></i>
                            Twitter
                        </a>
                    </li>
                </ul></li>
                
                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-pages">
                        <i class="fa fa-folder-open padding-small"></i>
                        Pages
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-pages" class="sidebar_submenu collapse ">
                    <li>
                        <a href="../../../../about/">
                            <i class="fa fa-file-text padding-small"></i>
                            About Me
                        </a>
                    </li>
                    <li>
                        <a href="../../../../projects/">
                            <i class="fa fa-file-text padding-small"></i>
                            Projects
                        </a>
                    </li>
                    <li>
                        <a href="../../../../resume/">
                            <i class="fa fa-file-text padding-small"></i>
                            Resume
                        </a>
                    </li>
                </ul></li>
                
                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-categories">
                        <i class="fa fa-folder-open padding-small"></i>
                        Categories
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-categories" class="sidebar_submenu collapse ">
                    <li >
                        <a href="../../../../category/community.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            Community
                            <span class="badge pull-right categorybadge">12</span>
                        </a>
                    </li>
                    <li class="active">
                        <a href="../../../../category/free-time.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            Free Time
                            <span class="badge pull-right categorybadge">26</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/general-work-stuff.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            General Work Stuff
                            <span class="badge pull-right categorybadge">4</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/traffic-research-project.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            Traffic Research Project
                            <span class="badge pull-right categorybadge">10</span>
                        </a>
                    </li>
                    <li >
                        <a href="../../../../category/uncategorized.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            Uncategorized
                            <span class="badge pull-right categorybadge">3</span>
                        </a>
                    </li>
                </ul></li>
                
            </ul>
        </div>
        <!-- /#sidebar-wrapper -->
        <!-- open/close sidebar -->
        <a href="#menu-toggle" class="btn btn-default" id="menu-toggle">
            <span id="right-arrow" class="glyphicon glyphicon-chevron-right"  title="expand sidebar"></span>
            <span id="left-arrow" class="glyphicon glyphicon-chevron-left" title="minimize sidebar"></span>
        </a>
       <!-- /open/close sidebar -->

        <!-- Page Content -->
        <div id="page-content-wrapper">
            <div class="container-fluid">
<section id="content">
    <article>
        <div class="row">
            <div class="col-lg-12">
                <header class="page-header">
                    <h1>
                        <a href="../../../../2011/07/11/experimenting-with-the-youtube-api-in-php/"
                           rel="bookmark"
                           title="Permalink to Experimenting with the YouTube API in PHP">
                            Experimenting with the YouTube API in PHP
                        </a>
                        <small>
<div class="post-info">
    <div class="publish-info-block">
        <small>
            <span class="published">
                <i class="fa fa-calendar padding-small"></i><time datetime="2011-07-11T21:38:00-04:00"> Mon 11 July 2011</time>
            </span>
            <span class="category">
                <i class="fa fa-folder-open padding-small"></i><a href="../../../../category/free-time.html">Free Time</a>
            </span>
            <span class="tags">
                <i class="fa fa-tags padding-small"></i>
                <a href="../../../../tag/games.html">games</a> /                 <a href="../../../../tag/web-development.html">web development</a> /                 <a href="../../../../tag/wildfire-games.html">Wildfire Games</a> /                 <a href="../../../../tag/wordpress.html">WordPress</a> /                 <a href="../../../../tag/youtube.html">YouTube</a>            </span>
        </small>
    </div>
</div><!-- /.post-info -->                        </small>
                    </h1>
                </header>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="entry-content">
                    <p>As a video game website, <a class="reference external" href="http://wildfiregames.com">Wildfire Games</a>
wants to be able to do some cool things with videos, images, music, and
more. Games are all about media, and any good game website has to do a
good job at showcasing their media. After all, what good is the website
if it doesn't good a good job at showcasing the game (not the one you
just lost, either)? One of the first major customization that I wanted
to make for their new website was to handle videos in a way that allowed
for them to be showcased and to do so with minimal maintenance. We're
all volunteers, so we need to take maintenance effort seriously. I
decided to experiment with writing a
<a class="reference external" href="http://codex.wordpress.org/Writing_a_Plugin">WordPress</a> plugin that
would handle their video management.</p>
<div class="section" id="youtube-api">
<h2>YouTube API</h2>
<p>In order to do this, I thought that I would leverage something that we
already use: <a class="reference external" href="http://www.youtube.com/play0ad">YouTube</a>. We have a
channel, and YT had the ability to organize videos into channels and to
add tagging, ratings, comments, etc. Why not leverage those and find a
way to consume them on our website? After doing a little bit of
Google'ing, I found that <a class="reference external" href="http://framework.zend.com/manual/en/zend.gdata.youtube.html">Zend produces a YouTube API for
PHP</a>.
Awesome! That takes a lot of the guess work out of understanding how to
form URLs, parse arguments, and all of the nasty string stuff that comes
along with calling a web API.</p>
<p>Using the API was really easy. It only took a few lines of code to get
the API to work with my test app:</p>
<pre class="literal-block">
require_once 'Zend/Loader.php'; Zend_Loader::loadClass('Zend_Gdata_YouTube'); $yt = new Zend_Gdata_YouTube(); $yt-&gt;setMajorProtocolVersion(2);
</pre>
<p>After that, getting a feed from a user is really easy:</p>
<pre class="literal-block">
$videoFeed = $yt-&gt;getUserUploads('play0ad');
</pre>
<p>Looping through the results and printing the result of the feed is
slightly more code, but still not tough by any means:</p>
<pre class="literal-block">
function printVideoFeed($videoFeed) {

    foreach ($videoFeed as $videoEntry) {
        // the videoEntry object contains many helper functions
        // that access the underlying mediaGroup object
        echo 'Video: ' . $videoEntry-&gt;getVideoTitle() . &quot;&lt;br /&gt;&quot;;
        echo 'Video ID: ' . $videoEntry-&gt;getVideoId() . &quot;&lt;br /&gt;&quot;;
        echo 'Updated: ' . $videoEntry-&gt;getUpdated() . &quot;&lt;br /&gt;&quot;;
        echo 'Description: ' . $videoEntry-&gt;getVideoDescription() . &quot;&lt;br /&gt;&quot;;
        echo 'Category: ' . $videoEntry-&gt;getVideoCategory() . &quot;&lt;br /&gt;&quot;;
        echo 'Tags: ' . implode(&quot;, &quot;, $videoEntry-&gt;getVideoTags()) . &quot;&lt;br /&gt;&quot;;
        echo 'Watch page: ' . $videoEntry-&gt;getVideoWatchPageUrl() . &quot;&lt;br /&gt;&quot;;
        echo 'Flash Player Url: ' . $videoEntry-&gt;getFlashPlayerUrl() . &quot;&lt;br /&gt;&quot;;
        echo 'Duration: ' . $videoEntry-&gt;getVideoDuration() . &quot;&lt;br /&gt;&quot;;
        echo 'View count: ' . $videoEntry-&gt;getVideoViewCount() . &quot;&lt;br /&gt;&quot;;
        echo 'Rating: ' . $videoEntry-&gt;getVideoRatingInfo() . &quot;&lt;br /&gt;&quot;;
        echo 'Geo Location: ' . $videoEntry-&gt;getVideoGeoLocation() . &quot;&lt;br /&gt;&quot;;
        echo 'Recorded on: ' . $videoEntry-&gt;getVideoRecorded() . &quot;&lt;br /&gt;&quot;;

        // see the paragraph above this function for more information on the
        // 'mediaGroup' object. in the following code, we use the mediaGroup
        // object directly to retrieve its 'Mobile RSTP link' child
        foreach ($videoEntry-&gt;mediaGroup-&gt;content as $content) {
            if ($content-&gt;type === &quot;video/3gpp&quot;) {
                echo 'Mobile RTSP link: ' . $content-&gt;url . &quot;&lt;br /&gt;&quot;;
            }
        }

        echo &quot;Thumbnails:&lt;br /&gt;&quot;;
        $videoThumbnails = $videoEntry-&gt;getVideoThumbnails();

        foreach($videoThumbnails as $videoThumbnail) {
            echo $videoThumbnail['time'] . ' - ' . $videoThumbnail['url'];
            echo ' height=' . $videoThumbnail['height'];
            echo ' width=' . $videoThumbnail['width'] . &quot;&lt;br /&gt;&quot;;
            echo '&lt;img src=&quot;' . $videoThumbnail['url'] .'&quot; /&gt;';
            echo '&lt;br /&gt;';
        }
        echo '&lt;br /&gt;';
    }
}
</pre>
<p>You'll have to excuse the poor code formatting...I couldn't get it to
look nice in WP. &nbsp;Oh well. &nbsp;Anyways, that's a lot of power with only a
little bit of code! &nbsp;You can also pull user comments, ratings, and just
about anything else you could find right on YT. &nbsp;Just imagine what I
could do with a plug-in. &nbsp;I could allow a &quot;media manager&quot; to specially
tag videos for front page display or with special tags of some sort that
dictate which pages those videos display on within the WFG site. &nbsp;The
way those tags are interpreted could be handled within WP through an
admin plug-in configuration panel. &nbsp;Someone could choose where a certain
&quot;class&quot; of video (video found on a certain channel, perhaps with a
certain tag) would be displayed by embedding a special tag within the
target page. &nbsp;We could do a lot with a little!</p>
</div>
<div class="section" id="doing-more">
<h2>Doing More</h2>
<p>WFG also wants user videos. &nbsp;Our users are our supporters and our
motivation. &nbsp;While searching around, I found a Google App Engine app
called <a class="reference external" href="http://www.youtube.com/direct">YouTube Direct</a>. &nbsp;The idea is
that a website can embed a snippet of code on their page to&nbsp;elicit
videos for a contest. &nbsp;Each such portal would be associated with a
contest. &nbsp;When a user clicks on that entry bit, they will be prompted to
log into YouTube and to either select a current video or to upload a new
one. &nbsp;Once a video is identified or uploaded, it will be added to a
queue for contest admins to look at. &nbsp;Note that the video lives on the
user's account and that they still own it...the video itself doesn't
actually sit in a queue. &nbsp;Admins can accept or reject videos, leave
comments and ratings, and a few other things that would reside within
the app. &nbsp;Once videos are accepted, they're added to a channel on the
host account (the one running the contests) for all to see. &nbsp;Once again,
this is key because it's pretty low maintenance, utilizes free resources
or resources that we already have, and adds a lot of value.</p>
<p>All in all, I'm pretty impressed with what I can do with a few lines of
code and YouTube.</p>
<p>And I've <a class="reference external" href="https://bitbucket.org/bstempi/0ad-youtube-channel-for-wordpress/wiki/Home">started my plugin
development</a>.
&nbsp;I've been adding code as I've been able to. &nbsp;It's slow, but moving. &nbsp;I
get to add code once per week or every other week, which is slower than
I'd like, but at least I'm moving along.</p>
</div>

                </div>
                <footer class="text-right">
                    <p>- bstempi</p>
                </footer>
    <div id="show-comments" class="span7 text-center">
        <a href="../../../../2011/07/11/experimenting-with-the-youtube-api-in-php/#disqus_thread" data-disqus-identifier="experimenting-with-the-youtube-api-in-php" class="btn btn-default">Show Comments</a>
    </div>
    <section id="comments" class="comments hidden">
        <hr/>
        <h2>Comments</h2>
        <div id="disqus_thread"></div>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </section>
            </div>
        </div>
    </article>
</section>
            </div>
<footer>
    <div class="container-fluid">
        <hr>
        <div class="row">
            <div class="col-xs-4 text-left">
                <small>Because my crap has to live somewhere</small>
            </div>
            <div class="col-xs-8 text-right">
                <p><small>Built using <a href="http://docs.getpelican.com/en/latest">Pelican</a>, <a href="http://getbootstrap.com">Bootstrap3</a> and the <a href="https://github.com/ingwinlu/pelican-twitchy">pelican-twitchy</a> theme.</small></p>
            </div>
        </div>
        <div class="row" id="footer_license">
            <div class="col-xs-12 text-center">                <p><small><p>&copy; 2015 Brian Stempin</p></small></p>
            </div>
        </div>
    </div>
</footer>        </div>
        <!-- /#page-content-wrapper -->
    </div>
    <!-- /#wrapper -->
    <!-- jQuery Version 1.11.2 -->
    <script src="../../../../theme/js/jquery-1.11.2.min.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="../../../../theme/js/bootstrap.min.js"></script>
    <!-- twitchy Script -->
    <script src="../../../../theme/js/pelican_twitchy.min.js"></script>
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-7381557-4']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->


<!-- disqus -->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'bstempiblog'; // required: replace example with your forum shortname

            var disqus_identifier = 'experimenting-with-the-youtube-api-in-php';
        var disqus_url = '../../../../2011/07/11/experimenting-with-the-youtube-api-in-php/';

    var disqus_config = function () {
        this.language = "en";
    };
        /*load script for comment count*/
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    
        $('#show-comments').click(function () {
            /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
            $('#show-comments').fadeOut();
            /*$('#comments').toggleClass('hidden');*/
            $('#comments').fadeIn().removeClass('hidden');
        });
</script>

<!-- /disqus --></body>
</html>